# nginx-letsencrypt-docker 

## **1. init-letsencrypt.sh**
### Что это?

   Скрипт выпуска SSL сертификатов для нескольких доменов. Сопровождается выводом всей необходимой информации об успешности выдачи сертефикатов для каждого домена.
  
### Использование

  Для успешного использования данного скрипта необходимо заменить примеры доменов на необходимые вам.
  
  ![image](https://user-images.githubusercontent.com/60391056/191938015-cfa3ac66-b934-49ce-9081-50fcd7a6cb4a.png)
  
  
  Сначала убедитесь, что всё корректно работает в тестовом режиме (включен по дефолту). Для выхода из тестового режима установите 0 в переменную `staging`.
  
 ![image](https://user-images.githubusercontent.com/60391056/192301843-c3749d81-12a6-457e-afa6-22420612b37f.png)


 При выключении тестового режима:
* лимит на выпуск SSL сертификатов для одного и того же домена (не более 5 попыток)
* при превышении лимита возможность выпуска ограничится временем, в течении которого выпуск новых сертификатов будет невозможен.
 _________________________________

## **2. app.conf**
### Что это?

  Конфигурационный файл для nginx.
  
 ### Использование
 
  Для корректной работы необходимо указать в `server_name` ваш домен (аналогично для 13 строки)
  
   ![image](https://user-images.githubusercontent.com/60391056/191952387-9e59cd8f-1540-4cf2-8c5f-84ecadc54c7c.png)


   Также необходимо подставить ваш домен в строки `ssl_certificate` и `ssl_certificate_key`
   
   ![image](https://user-images.githubusercontent.com/60391056/191953785-1e50efcf-705d-4193-abb1-93a3e3a8540c.png)
   
   
   Для строки `proxy_pass` после http:// укажите имя вашего докер контейнера `container_name`, которое вы задаёте в nginx.docker-compose.yml файле.
   
   ![image](https://user-images.githubusercontent.com/60391056/191954336-8bc6b591-2395-4aa2-a0e9-ea53455ec296.png)
_________________________________

  ## **3. nginx.docker-compose.yml**
  ### Что это?
  
  Файл для запуска докер-контейнера.
  
   ### Использование
   Для докер-контейнера необходимо указать имя контейнера `container_name`, и image вашего приложения.
   
   ![image](https://user-images.githubusercontent.com/60391056/191964485-f2aa9f8e-f07f-435d-b64a-cdf6a2399028.png)
   
   
   Если порты приложения и контейнера находятся не в одном нетворке, пропишите необходимые вам порты, а также укажите название сети в которой будет работать приложение
   
   ![image](https://user-images.githubusercontent.com/60391056/191964921-e3d3a5dd-1149-40af-bed4-f3b688aecc66.png)


   
 
   





   
 
   


